!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},n.parcelRequired7c6=a),a.register("iE7OH",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},o=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),o[e]=t),t}})),a("iE7OH").register(JSON.parse('{"EVgbq":"index.5aa0bdec.js","3YAt5":"no_img.0ebc954d.png","5UbS1":"index.118063e3.css"}'));var i;i=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("3YAt5");var l="a860cfd897e99827a5ea5e5210690a78",c="https://api.themoviedb.org/3",s="https://image.tmdb.org/t/p/w500",d="".concat(c,"/discover/movie?api_key=").concat(l),u="".concat(c,"/search/movie?api_key=").concat(l,"&query="),m="".concat(c,"/discover/movie?api_key=").concat(l,"&with_genres="),f=document.querySelector(".movies"),v=document.querySelector(".form"),g=document.querySelector(".form>input"),p=document.querySelector(".form>select"),h=document.querySelector(".pagePrev"),y=document.querySelector(".pageNext"),b=document.querySelector(".current");console.log(h);var _={currentPage:1,nextPage:2,prevPage:3,lastUrl:"",totalPages:100},E=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function L(e){_.lastUrl=e,fetch(e).then((function(e){return e.json()})).then((function(e){var n;console.log(e.results.length),0!=e.results.length?(n=e.results,f.innerHTML="",n.map((function(e){var n,r,o=e.title,a=e.poster_path,l=e.vote_average,c=e.genre_ids,d=e.release_date,u=void 0===d?"":d,m=document.createElement("li");m.classList.add("movie_card"),m.innerHTML='\n        <img class="movie__img" src="'.concat(null===a?t(i):s+a,'" alt="').concat(o,'">\n        <h3 class="movie_title">').concat(o,'</h3>\n        <div class="movie_info">\n            <span class="movie_genre">').concat((n=c,r=[],E.map((function(e){r.length>=3?r=[r[0],r[1],"other"]:n.includes(e.id)&&r.push(e.name)})),r+" | "+u.slice(0,4)),'</span>\n\n            <span class="movie_vote">').concat(l,"</span>\n\n        </div>\n        "),f.appendChild(m)})),_.currentPage=e.page,_.nextPage=_.currentPage+1,_.prevPage=_.currentPage-1,_.totalPages=e.total_pages,b.innerText=_.currentPage,_.currentPage<=1?(h.classList.add("disabled"),y.classList.remove("disabled")):_.currentPage<=_.totalPages?(h.classList.remove("disabled"),y.classList.add("disabled")):(h.classList.remove("disabled"),y.classList.remove("disabled"))):f.innerHTML="<h1>Error</h1>"}))}function P(e){var t=_.lastUrl.split("?"),n=t[1].split("&"),r=n[n.length-1].split("=");if("page"!=r[0]){L(_.lastUrl+"&page="+e)}else{r[1]=e.toString();var o=r.join("=");n[n.length-1]=o;var a=n.join("&");L(t[0]+"?"+a)}}L(d),function(e){p.innerHTML="";var t=document.createElement("option");t.setAttribute("value","0"),t.setAttribute("selected",""),t.innerHTML="All ganres:",p.appendChild(t),e.map((function(e){var t=document.createElement("option");t.setAttribute("value",e.id),t.innerHTML="".concat(e.name),p.appendChild(t)}))}(E),v.addEventListener("submit",(function(e){e.preventDefault();var t=g.value;t&&L("".concat(u+t)),p.value=0})),p.addEventListener("change",(function(e){0==e.target.value?L(d):L(m+e.target.value),g.value=""})),h.addEventListener("click",(function(){_.prevPage>0&&P(_.prevPage)})),y.addEventListener("click",(function(){_.nextPage<=_.totalPages&&P(_.nextPage)}));var S={blockSlider:document.querySelector(".header__switch"),slider:document.querySelector(".slider"),movieTitleColor:document.querySelector(".movies")};S.blockSlider.addEventListener("click",(function(){document.documentElement.style.transition="background-color 0.6s ease, color 0.6s ease",S.movieTitleColor.style.transition="color 0.6s ease",S.slider.style.transition="transform 0.6s ease","rgb(40, 47, 53)"===getComputedStyle(document.documentElement).backgroundColor?(document.documentElement.style.backgroundColor="#ffffff",S.movieTitleColor.style.color="#000",S.slider.style.transform="translateX(0)",localStorage.setItem("darkMode",!1)):(document.documentElement.style.backgroundColor="#282f35",S.movieTitleColor.style.color="#fff",S.slider.style.transform="translateX(26px)",localStorage.setItem("darkMode",!0))})),window.onload=function(){var e="true"===localStorage.getItem("darkMode");S.slider.style.transition="transform 0.6s ease",e?(document.documentElement.style.backgroundColor="#282f35",S.movieTitleColor.style.color="#fff",S.slider.style.transform="translateX(26px)"):(document.documentElement.style.backgroundColor="#ffffff",S.movieTitleColor.style.color="#000",S.slider.style.transform="translateX(0)")};try{var w=Object.defineProperty({},"passive",{get:function(){!0}});window.addEventListener("testPassive",null,w),window.removeEventListener("testPassive",null,w)}catch(e){}var C='[data-glide-el^="controls"]';"".concat(C,' [data-glide-dir*="<"]'),"".concat(C,' [data-glide-dir*=">"]');var x="https://image.tmdb.org/t/p/w500",k="".concat("https://api.themoviedb.org/3","/discover/movie?api_key=").concat("7b497d31082fcfae4cc74000cae47751"),T=document.querySelector(".glide__slides");console.log(T),fetch(k).then((function(e){return e.json()})).then((function(e){e.results.map((function(e){var t=e.poster_path,n=e.title,r=document.createElement("li");r.classList.add("glide__slide"),r.innerHTML='\n        <img class="slider__img" src="'.concat(x+t,'" alt="').concat(n,'" width="175px">'),T.appendChild(r)}))}))}();
//# sourceMappingURL=index.5aa0bdec.js.map
