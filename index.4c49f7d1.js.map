{"mappings":"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","sources":["src/js/film_list.js","src/js/dark_mode.js"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = 'a860cfd897e99827a5ea5e5210690a78';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst popularMovies = `${BASE_URL}/discover/movie?api_key=${KEY}`;\nconst searchUrl = `${BASE_URL}/search/movie?api_key=${KEY}&query=`;\nconst ganreUrl = `${BASE_URL}/discover/movie?api_key=${KEY}&with_genres=`;\n\nconst movies = document.querySelector('.movies');\nconst form = document.querySelector('.form');\nconst search = document.querySelector('.form>input');\nconst select = document.querySelector('.form>select');\n\nconst genres = [\n  { id: 28, name: 'Action' },\n  { id: 12, name: 'Adventure' },\n  { id: 16, name: 'Animation' },\n  { id: 35, name: 'Comedy' },\n  { id: 80, name: 'Crime' },\n  { id: 99, name: 'Documentary' },\n  { id: 18, name: 'Drama' },\n  { id: 10751, name: 'Family' },\n  { id: 14, name: 'Fantasy' },\n  { id: 36, name: 'History' },\n  { id: 27, name: 'Horror' },\n  { id: 10402, name: 'Music' },\n  { id: 9648, name: 'Mystery' },\n  { id: 10749, name: 'Romance' },\n  { id: 878, name: 'Science Fiction' },\n  { id: 10770, name: 'TV Movie' },\n  { id: 53, name: 'Thriller' },\n  { id: 10752, name: 'War' },\n  { id: 37, name: 'Western' },\n];\n\nfunction idToGenre(id) {\n  let ar = [];\n  genres.map(el => {\n    if (ar.length >= 3) {\n      ar = [ar[0], ar[1], 'other'];\n      return;\n    }\n    if (id.includes(el.id)) ar.push(el.name);\n  });\n  return ar;\n}\n\nfunction getMovies(url) {\n  fetch(url)\n    .then(res => res.json())\n    .then(res => {\n      showMovies(res.results);\n    });\n}\n\ngetMovies(popularMovies);\n\nfunction showGanresList(arr) {\n  select.innerHTML = '';\n  const selectAll = document.createElement('option');\n  selectAll.setAttribute('value', '');\n  selectAll.setAttribute('selected', '');\n  selectAll.innerHTML = 'All ganres:'\n  select.appendChild(selectAll);\n\n  arr.map(item => {\n\n    const selectEl = document.createElement(`option`);\n    selectEl.setAttribute(`value`, item.id)\n    selectEl.innerHTML = `${item.name}`;\n\n    select.appendChild(selectEl);\n  });\n}\n\nshowGanresList(genres);\n\nfunction showMovies(data) {\n  movies.innerHTML = '';\n\n  data.map(movie => {\n    const { title, poster_path, vote_average, genre_ids, release_date } = movie;\n    const movieEl = document.createElement('li');\n    movieEl.classList.add('movie_card');\n    movieEl.innerHTML = `\n        <img class=\"movie__img\" src=\"${IMG_URL + poster_path}\" alt=\"${title}\">\n        <h3 class=\"movie_title\">${title}</h3>\n        <div class=\"movie_info\">\n            <span class=\"movie_genre\">${\n              idToGenre(genre_ids) + ' | ' + release_date.slice(0, 4)\n            }</span>\n\n            <span class=\"movie_vote\">${vote_average}</span>\n\n        </div>\n        `;\n\n    movies.appendChild(movieEl);\n  });\n}\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const searchValue = search.value;\n  console.log(searchValue);\n\n  if (searchValue) {\n    getMovies(`${searchUrl + searchValue}`);\n  } else {\n    // getMovies(popularMovies)\n  }\n});\n","const refs = {\n  blockSlider: document.querySelector('.header__switch'),\n  slider: document.querySelector('.slider'),\n  movieTitleColor: document.querySelector('.movies'),\n};\n\n\nrefs.blockSlider.addEventListener('click', onChangeColor);\n\nfunction onChangeColor() {\n  if (\n    getComputedStyle(document.documentElement).backgroundColor ===\n    'rgb(35, 41, 47)'\n  ) {\n    document.documentElement.style.backgroundColor = '#ffffff';\n    refs.movieTitleColor.style.color = '#000'\n    refs.slider.style.transform = 'translateX(0)';\n    localStorage.setItem('darkMode', false);\n  } else {\n    document.documentElement.style.backgroundColor = '#23292f';\n    refs.movieTitleColor.style.color = '#fff'\n    refs.slider.style.transform = 'translateX(26px)';\n    localStorage.setItem('darkMode', true);\n  }\n}\n\nwindow.onload = function () {\n  const isDarkMode = localStorage.getItem('darkMode') === 'true';\n  if (isDarkMode) {\n    document.documentElement.style.backgroundColor = '#23292f';\n    refs.movieTitleColor.style.color = '#fff';\n    refs.slider.style.transform = 'translateX(26px)';\n  } else {\n    document.documentElement.style.backgroundColor = '#ffffff';\n    refs.movieTitleColor.style.color = '#000';\n    refs.slider.style.transform = 'translateX(0)';\n  }\n};\n"],"names":["$ddf9d5f8c858c25f$var$KEY","$ddf9d5f8c858c25f$var$BASE_URL","$ddf9d5f8c858c25f$var$IMG_URL","$ddf9d5f8c858c25f$var$popularMovies","concat","$ddf9d5f8c858c25f$var$searchUrl","$ddf9d5f8c858c25f$var$movies","document","querySelector","$ddf9d5f8c858c25f$var$form","$ddf9d5f8c858c25f$var$search","$ddf9d5f8c858c25f$var$select","$ddf9d5f8c858c25f$var$genres","id","name","$ddf9d5f8c858c25f$var$getMovies","url","fetch","then","res","json","data","results","innerHTML","map","movie","ar","title","poster_path","vote_average","genre_ids","release_date","movieEl","createElement","classList","add","el","length","includes","push","slice","appendChild","arr","selectAll","setAttribute","item","selectEl","$ddf9d5f8c858c25f$var$showGanresList","addEventListener","e","preventDefault","searchValue","value","console","log","$6da5b5b97afef329$var$refs","blockSlider","slider","movieTitleColor","getComputedStyle","documentElement","backgroundColor","style","color","transform","localStorage","setItem","window","onload","getItem"],"version":3,"file":"index.4c49f7d1.js.map"}