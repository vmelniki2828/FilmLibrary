{"mappings":"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","sources":["src/js/film_list.js","src/js/dark_mode.js"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = 'a860cfd897e99827a5ea5e5210690a78';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst popularMovies = `${BASE_URL}/discover/movie?api_key=${KEY}`;\nconst searchUrl = `${BASE_URL}/search/movie?api_key=${KEY}&query=`;\nconst ganreUrl = `${BASE_URL}/discover/movie?api_key=${KEY}&with_genres=`;\n\nconst movies = document.querySelector('.movies');\nconst form = document.querySelector('.form');\nconst search = document.querySelector('.form>input');\nconst select = document.querySelector('.form>select');\n\nconst genres = [\n  { id: 28, name: 'Action' },\n  { id: 12, name: 'Adventure' },\n  { id: 16, name: 'Animation' },\n  { id: 35, name: 'Comedy' },\n  { id: 80, name: 'Crime' },\n  { id: 99, name: 'Documentary' },\n  { id: 18, name: 'Drama' },\n  { id: 10751, name: 'Family' },\n  { id: 14, name: 'Fantasy' },\n  { id: 36, name: 'History' },\n  { id: 27, name: 'Horror' },\n  { id: 10402, name: 'Music' },\n  { id: 9648, name: 'Mystery' },\n  { id: 10749, name: 'Romance' },\n  { id: 878, name: 'Science Fiction' },\n  { id: 10770, name: 'TV Movie' },\n  { id: 53, name: 'Thriller' },\n  { id: 10752, name: 'War' },\n  { id: 37, name: 'Western' },\n];\n\nfunction idToGenre(id) {\n  let ar = [];\n  genres.map(el => {\n    if (ar.length >= 3) {\n      ar = [ar[0], ar[1], 'other'];\n      return;\n    }\n    if (id.includes(el.id)) ar.push(el.name);\n  });\n  return ar;\n}\n\nfunction getMovies(url) {\n  fetch(url)\n    .then(res => res.json())\n    .then(res => {\n      showMovies(res.results);\n    });\n}\n\ngetMovies(popularMovies);\n\nfunction showGanresList(arr) {\n  select.innerHTML = '';\n  const selectAll = document.createElement('option');\n  selectAll.setAttribute('value', '');\n  selectAll.setAttribute('selected', '');\n  selectAll.innerHTML = 'All ganres:'\n  select.appendChild(selectAll);\n\n  arr.map(item => {\n\n    const selectEl = document.createElement(`option`);\n    selectEl.setAttribute(`value`, item.id)\n    selectEl.innerHTML = `${item.name}`;\n\n    select.appendChild(selectEl);\n  });\n}\n\nshowGanresList(genres);\n\nfunction showMovies(data) {\n  movies.innerHTML = '';\n\n  data.map(movie => {\n    const { title, poster_path, vote_average, genre_ids, release_date } = movie;\n    const movieEl = document.createElement('li');\n    movieEl.classList.add('movie_card');\n    movieEl.innerHTML = `\n        <img class=\"movie__img\" src=\"${IMG_URL + poster_path}\" alt=\"${title}\">\n        <h3 class=\"movie_title\">${title}</h3>\n        <div class=\"movie_info\">\n            <span class=\"movie_genre\">${\n              idToGenre(genre_ids) + ' | ' + release_date.slice(0, 4)\n            }</span>\n\n            <span class=\"movie_vote\">${vote_average}</span>\n\n        </div>\n        `;\n\n    movies.appendChild(movieEl);\n  });\n}\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const searchValue = search.value;\n  console.log(searchValue);\n\n  if (searchValue) {\n    getMovies(`${searchUrl + searchValue}`);\n  } else {\n    // getMovies(popularMovies)\n  }\n});\n","const refs = {\n  blockSlider: document.querySelector('.header__switch'),\n  slider: document.querySelector('.slider'),\n  movieTitleColor: document.querySelector('.movies'),\n};\n\n\nrefs.blockSlider.addEventListener('click', onChangeColor);\n\nfunction onChangeColor() {\n  if (\n    getComputedStyle(document.documentElement).backgroundColor ===\n    'rgb(35, 41, 47)'\n  ) {\n    document.documentElement.style.backgroundColor = '#ffffff';\n    refs.movieTitleColor.style.color = '#000'\n    refs.slider.style.transform = 'translateX(0)';\n    localStorage.setItem('darkMode', false);\n  } else {\n    document.documentElement.style.backgroundColor = '#23292f';\n    refs.movieTitleColor.style.color = '#fff'\n    refs.slider.style.transform = 'translateX(26px)';\n    localStorage.setItem('darkMode', true);\n  }\n}\n\nwindow.onload = function () {\n  const isDarkMode = localStorage.getItem('darkMode') === 'true';\n  if (isDarkMode) {\n    document.documentElement.style.backgroundColor = '#23292f';\n    refs.movieTitleColor.style.color = '#fff';\n    refs.slider.style.transform = 'translateX(26px)';\n  } else {\n    document.documentElement.style.backgroundColor = '#ffffff';\n    refs.movieTitleColor.style.color = '#000';\n    refs.slider.style.transform = 'translateX(0)';\n  }\n};\n"],"names":["$878517033d8679a6$var$movies","document","querySelector","$878517033d8679a6$var$form","$878517033d8679a6$var$search","$878517033d8679a6$var$select","$878517033d8679a6$var$genres","id","name","$878517033d8679a6$var$getMovies","url","fetch","then","res","json","data","results","innerHTML","map","movie","title","poster_path","vote_average","genre_ids","release_date","movieEl","createElement","classList","add","ar","el","length","includes","push","$878517033d8679a6$var$idToGenre","slice","appendChild","arr","selectAll","setAttribute","item","selectEl","$878517033d8679a6$var$showGanresList","addEventListener","e","preventDefault","searchValue","value","console","log","$bb27217f4c3ebf3d$var$refs","blockSlider","slider","movieTitleColor","getComputedStyle","documentElement","backgroundColor","style","color","transform","localStorage","setItem","window","onload","getItem"],"version":3,"file":"index.6a5ab23e.js.map"}